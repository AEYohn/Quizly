# Environment Variables for Quizly Backend
# Copy to .env and fill in values

# Database (Railway will auto-set this)
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/quizly

# Gemini AI API Key
GEMINI_API_KEY=your_gemini_api_key_here

# Authentication
JWT_SECRET_KEY=your-super-secret-key-change-this-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://your-frontend.vercel.app

# Debug mode (set to false in production)
DEBUG=false

# Rate Limiting (requests per minute)
AI_RATE_LIMIT=10/minute
DEFAULT_RATE_LIMIT=60/minute

# AI Peer Name (for peer discussions)
AI_PEER_NAME=Alex

# ==============================================================================
# Code Execution (LeetCode-style sandboxed code runner)
# ==============================================================================

# Choose execution engine: "piston" (default/free), "judge0", or "local"
CODE_RUNNER=piston

# ==============================================================================
# Piston (RECOMMENDED - Free, no API key needed!)
# ==============================================================================
# Public API: https://emkc.org/api/v2/piston
# 70+ languages, completely free, no rate limits for reasonable usage
# Self-hosted: docker run --privileged -p 2000:2000 ghcr.io/engineer-man/piston

PISTON_API_URL=https://emkc.org/api/v2/piston
PISTON_COMPILE_TIMEOUT=10000
PISTON_RUN_TIMEOUT=3000
PISTON_MEMORY_LIMIT=128000000

# ==============================================================================
# Judge0 (Alternative - Requires API key)
# ==============================================================================
# Option 1: RapidAPI hosted (free tier: 50 submissions/day)
#   - Sign up at: https://rapidapi.com/judge0-official/api/judge0-ce
#   - Get your API key from the dashboard
JUDGE0_API_URL=https://judge0-ce.p.rapidapi.com
JUDGE0_API_KEY=your_rapidapi_key_here
JUDGE0_API_HOST=judge0-ce.p.rapidapi.com

# Option 2: Self-hosted Judge0 (Railway 1-click deploy)
#   - Deploy: https://railway.com/deploy/h9hIWO
# JUDGE0_API_URL=https://your-judge0-instance.railway.app
# JUDGE0_API_KEY=your_auth_token_if_configured

# Execution limits
JUDGE0_CPU_TIME_LIMIT=2
JUDGE0_MEMORY_LIMIT=128000
JUDGE0_MAX_OUTPUT=10000
